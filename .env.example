# ════════════════════════════════════════════════════
# BTC UP/DOWN Tahmin Pazarı — Environment Configuration
# Kopyala: cp .env.example .env
# ════════════════════════════════════════════════════

# ── Server ───────────────────────────────────────────
# Ana API portu
SERVER_PORT=8080
# Back-office admin API portu
BACKOFFICE_PORT=8081
# Ortam: "development" veya "production"
ENVIRONMENT=development
# HTTP okuma/yazma zaman aşımı (Go duration syntax: 10s, 1m, vb.)
SERVER_READ_TIMEOUT=10s
SERVER_WRITE_TIMEOUT=10s

# ── PostgreSQL ───────────────────────────────────────
# DATABASE_DSN (tek satır) veya aşağıdaki ayrı değişkenler kullanılabilir.
# Prod ortamında DATABASE_DSN kullanılması önerilir.
# DATABASE_DSN=postgres://user:pass@host:5432/dbname?sslmode=disable

DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=supersecret
DB_NAME=evetabi_prediction
# disable | require | verify-full
DB_SSLMODE=disable

# Bağlantı havuzu
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=5m

# ── JWT ──────────────────────────────────────────────
# ⚠️  Production'da mutlaka uzun, rastgele string kullan (min 32 karakter)
JWT_ACCESS_SECRET=change-me-access-secret-min-32-chars!!
JWT_REFRESH_SECRET=change-me-refresh-secret-min-32-chars!
# Access token geçerlilik süresi
JWT_ACCESS_TTL=15m
# Refresh token geçerlilik süresi (30 gün)
JWT_REFRESH_TTL=720h

# ── Fiyat Kaynakları ─────────────────────────────────
PRICE_BINANCE_URL=https://api.binance.com
PRICE_BYBIT_URL=https://api.bybit.com
PRICE_OKX_URL=https://www.okx.com
# Her borsanın HTTP fetch timeout'u
PRICE_FETCH_TIMEOUT=2s
# Fiyat cache süresi (1sn = her saniye canlı fiyat)
PRICE_CACHE_TTL=1s
# Ağırlıklar: toplamı 100 olmalı
PRICE_BINANCE_WEIGHT=50
PRICE_BYBIT_WEIGHT=30
PRICE_OKX_WEIGHT=20

# ── Market Maker (MM) ────────────────────────────────
# Tek piyasada platfomun maksimum maruz kalabileceği tutar (TRY)
MM_MAX_EXPOSURE_PER_MARKET=10000
# Günlük maksimum zarar limiti; aşılınca MM durur (TRY)
MM_MAX_DAILY_LOSS=50000
# Platfomun her zaman elinde bulundurması gereken minimum rezerv (TRY)
MM_MIN_RESERVE=100000
# Dengesizlik tetik eşiği: 0.8 → 80/20 oranı aşılınca MM devreye girer
MM_TRIGGER_THRESHOLD=0.8
# MM'in tek seferde koyacağı minimum bahis miktarı (TRY)
MM_MIN_BET=10

# ── Cüzdan ve Ücretler ───────────────────────────────
# Minimum çekim miktarı (TRY)
WALLET_MIN_WITHDRAW=10
# Günlük maksimum çekim miktarı / kullanıcı (TRY)
WALLET_MAX_DAILY_WITHDRAW=50000
# Pari-mutuel komisyon oranı (0.03 = %3)
WALLET_COMMISSION_RATE=0.03
# Erken çıkış (bozdur) ücreti (0.05 = %5)
WALLET_CASHOUT_FEE_RATE=0.05
